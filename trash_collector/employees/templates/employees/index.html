{% extends 'employees\employee_base.html' %}

{% block title %}{% block header %} Employee Home {% endblock %}{% endblock %}

{% block content %}
  {% if user.is_authenticated %}  
    Hello Employee {{ logged_in_employee.name}}! Team Zip-Code: {{logged_in_employee.zip_code}}

    <br>
    <br>
    
    <table class="employee-customer-tb">
      <tbody>
        {% for customer in scheduled_pickup %}
        <tr>
          <!-- Row - Customer Info -->
          <th scope="row"></th>
          <td>{{customer.name}} | {{customer.address}}, {{customer.zip_code}}</td>
          <td>
            <a href="{% url 'employees:trash_picked_up' customer.id %}"><button type="button">Confirm</button></a>                   
          </td>
        </tr>
      </tbody>
        {% endfor %}
    </table>



    <form action="{% url 'employees:filter_by_day' %}" method='post'>
      {% csrf_token %}
      <label for="Weekday">Choose a day:</label>
      <select name="Weekday" id="Weekday">
        <option value="Monday">Monday</option>
        <option value="Tuesday">Tuesday</option>
        <option value="Wednesday">Wedesday</option>
        <option value="Thursday">Thursday</option>
        <option value="Friday">Friday</option>
        <option value="Saturday">Saturday</option>
        <option value="Sunday">Sunday</option>
      </select>
      <br><br>
      <input type="submit" value="Submit">
    </form>
    
    {% if filter_by_day != '' %}
    <ul>
      <h2>Scheduled Trash Pickups for {{weekday}} | {{today}} </h2>
      <table class="employee-customer-tb">
        <tbody>
          {% for customer in filter_customers %}
          <tr>
            <!-- Row - Customer Info -->
            <th scope="row"></th>
            <td>{{customer.name}} | {{customer.address}}, {{customer.zip_code}}</td>
          </tr>
        </tbody>
          {% endfor %}
      </table>
    {% endif %}

  {% else %}
    <p>You are at the employee index, but you are not logged in.</p>
    <a href="{% url 'login' %}">Log In</a>
    <a href="{% url 'accounts:register' %}">Sign Up</a>
  {% endif %}
{% endblock %}